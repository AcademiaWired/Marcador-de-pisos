<style>
  textarea {
    width: 100%;
    height: 45%;
  }
  * {
    font-size: 20;
  }
</style>

<textarea id="input"></textarea>
<br/><br/>
<button onclick="solveCBC()">CBC (OR-Tools)</button>
<button onclick="solveLPSolver()">LP Solver</button>
<button onclick="solveGLPK()">GLPK</button>
<button onclick="solveCP_SAT()">CP-SAT (OR-Tools)</button>
<br/><br/>
<button onclick="solveGreedy()">Greedy</button>
<button onclick="solveRandomGreedy(1)">Random Greedy</button>
<button onclick="solveRandomGreedy(100)">Random Greedy x100</button>
<button onclick="solveRandomGreedy(1000)">Random Greedy x1000</button>
<pre id="output"></pre>

<script src="lib/javascript-lp-solver.js"></script>
<script src="lib/glpk.min.js"></script>

<script src="mapManager.js"></script>
<script src="solveCBC.js"></script>
<script src="solveLPSolver.js"></script>
<script src="solveGreedy.js"></script>
<script src="solveGLPK.js"></script>
<script src="solveCP-SAT.js"></script>
<script src="solveRandomGreedy.js"></script>

<script>
  const input = document.querySelector('#input')
  const output = document.querySelector('#output')

  input.value = '◫◪◫◫◫\n◫◫▩◪◫'

  function getAdjListFromInput() {
    const inputValue = input.value.split('\n')
      .map(s => s.replace(/\s/g, ''))
      .filter(s => s != '')
    let matrix = inputValue
    if(inputValue[0][0] == '[') // if the input string is in array of chars format
      matrix = JSON.parse(inputValue.join(''))
    return {
      adjList: buildAdjListFromTest({mapTypes: matrix}),
      n: matrix[0].length
    }
  }

  function arrayToStringMatrix(v, n) {
    let res = '', row = []
    for(let i = 0; i < v.length; i++) {
      row.push(v[i])
      if((i+1) % n == 0) {
        res += `${JSON.stringify(row)}\n`
        row = []
      }
    }
    return res
  }

  function clearOutput() {
    output.textContent = ''
  }

  function updateOutput(newContent) {
    output.textContent = newContent.replace(/^\s+|\s+$/gm, '')
  }

</script>